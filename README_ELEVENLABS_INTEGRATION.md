# ü§ñ ElevenLabs AI Agent Integration

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ElevenLabs AI Agent Platform —Å Voximplant –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤ —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –Ω–æ–º–µ—Ä–æ–≤.

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **ElevenLabs AI Agent** (–≥–æ—Ç–æ–≤—ã–π –±–æ—Ç —Å –≥–æ–ª–æ—Å–æ–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º) –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å **Voximplant** (—Ä–æ—Å—Å–∏–π—Å–∫–∞—è —Ç–µ–ª–µ—Ñ–æ–Ω–∏—è) –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤.

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π AI** - ElevenLabs Agent —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–∏–∞–ª–æ–≥–æ–º
- **–†–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–º–µ—Ä–∞** - Voximplant –¥–ª—è –∑–≤–æ–Ω–∫–æ–≤ –≤ –†–§
- **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - –≥–æ—Ç–æ–≤—ã–π –∞–≥–µ–Ω—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- **–£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
ElevenLabs AI Agent (–ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞)
    ‚Üì (REST API)
Voximplant (—Ç–µ–ª–µ—Ñ–æ–Ω–∏—è)
    ‚Üì (—Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–º–µ—Ä–∞)
–†–µ–∞–ª—å–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞–º
    ‚Üì (webhook)
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
elevenlabs-integration/
‚îú‚îÄ‚îÄ config_elevenlabs.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ elevenlabs_agent_service.py       # –°–µ—Ä–≤–∏—Å ElevenLabs Agent
‚îú‚îÄ‚îÄ elevenlabs_voximplant_service.py  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Voximplant
‚îú‚îÄ‚îÄ main_elevenlabs.py                # –í–µ–±-—Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ voximplant_scenario_elevenlabs_agent.js  # Voximplant —Å—Ü–µ–Ω–∞—Ä–∏–π
‚îú‚îÄ‚îÄ test_elevenlabs_integration.py    # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ README_ELEVENLABS_INTEGRATION.md  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install fastapi uvicorn requests python-dotenv
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config_elevenlabs.py`:

```python
# ElevenLabs AI Agent –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
ELEVENLABS_AGENT_API_KEY = "sk_ff39c1d16620e8788133b568029a26401b92f1918cd89f40"
ELEVENLABS_AGENT_ID = "agent_01jxd1arjvfq9bd1ae6j92cs3t"
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Voximplant

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –≤ Voximplant
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `voximplant_scenario_elevenlabs_agent.js`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
python test_elevenlabs_integration.py
```

### 5. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
python main_elevenlabs.py
```

### 6. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```
http://localhost:8001
```

## üé≠ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π**
   - –ù–∞–∂–º–∏—Ç–µ "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Agent**
   - –ù–∞–∂–º–∏—Ç–µ "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Agent"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–≥–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç

3. **–ó–∞–ø—É—Å–∫ –∑–≤–æ–Ω–∫–∞**
   - –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
   - –ù–∞–∂–º–∏—Ç–µ "üìû –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–≤–æ–Ω–æ–∫"

### –ß–µ—Ä–µ–∑ API

```bash
# –ó–∞–ø—É—Å–∫ –∑–≤–æ–Ω–∫–∞
curl -X POST "http://localhost:8001/api/call/elevenlabs-agent" \
  -H "Content-Type: application/json" \
  -d '{
    "phone_number": "+79991234567",
    "agent_config": {
      "agent_id": "agent_01jxd1arjvfq9bd1ae6j92cs3t",
      "api_key": "sk_ff39c1d16620e8788133b568029a26401b92f1918cd89f40",
      "voice_id": "21m00Tcm4TlvDq8ikWAM"
    }
  }'
```

### –ß–µ—Ä–µ–∑ Python

```python
from elevenlabs_voximplant_service import elevenlabs_voximplant_service

# –ó–∞–ø—É—Å–∫ –∑–≤–æ–Ω–∫–∞
result = elevenlabs_voximplant_service.start_elevenlabs_agent_call(
    "+79991234567",
    {
        "agent_id": "agent_01jxd1arjvfq9bd1ae6j92cs3t",
        "api_key": "sk_ff39c1d16620e8788133b568029a26401b92f1918cd89f40"
    }
)

print(result)
```

## üîß API Endpoints

### POST `/api/call/elevenlabs-agent`
–ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–≤–æ–Ω–æ–∫ —Å ElevenLabs AI Agent

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```json
{
  "phone_number": "+79991234567",
  "agent_config": {
    "agent_id": "agent_id",
    "api_key": "api_key",
    "voice_id": "voice_id"
  }
}
```

### GET `/api/test-connections`
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ElevenLabs Agent –∏ Voximplant

### GET `/api/test-agent`
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç ElevenLabs Agent

### GET `/api/calls`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∑–≤–æ–Ω–∫–æ–≤

### POST `/api/call-results`
Webhook –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–≤–æ–Ω–∫–æ–≤

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –î–∞–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∞

```json
{
  "call_id": "session_1234567890_abc123",
  "phone_number": "+79991234567",
  "start_time": "2024-01-15T10:30:00Z",
  "end_time": "2024-01-15T10:32:45Z",
  "duration": 165,
  "status": "completed",
  "conversation": [
    {
      "role": "agent",
      "text": "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª—ë–Ω–∞...",
      "timestamp": "2024-01-15T10:30:05Z"
    },
    {
      "role": "client",
      "text": "–î–∞, –µ—Å—Ç—å –º–∏–Ω—É—Ç–∫–∞",
      "timestamp": "2024-01-15T10:30:12Z",
      "confidence": 0.85
    }
  ],
  "outcome": "interested",
  "metrics": {
    "turns": 6,
    "client_turns": 3,
    "agent_turns": 3,
    "engagement": "high",
    "sentiment": "positive",
    "key_topics": ["pricing", "timing"]
  }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
python test_elevenlabs_integration.py
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç ElevenLabs Agent
python elevenlabs_agent_service.py

# –¢–µ—Å—Ç Voximplant
python elevenlabs_voximplant_service.py
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã ASR
- –û—à–∏–±–∫–∏ TTS
- –î–∞–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–æ–≤

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ElevenLabs Agent**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–≥–µ–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω

2. **–û—à–∏–±–∫–∞ Voximplant**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω

3. **–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
   - –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üéØ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ElevenLabs Agent

### –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [ElevenLabs AI Agent Platform](https://elevenlabs.io/ai-agent)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –ª–æ–≥–∏–∫—É
4. –ü–æ–ª—É—á–∏—Ç–µ Agent ID –∏ API –∫–ª—é—á

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–æ–ª–æ—Å–∞

```python
# –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞
VOICES = {
    "molly": "21m00Tcm4TlvDq8ikWAM",  # –ñ–µ–Ω—Å–∫–∏–π
    "bella": "EXAVITQu4vr4xnSDxMaL",  # –ñ–µ–Ω—Å–∫–∏–π
    "josh": "VR6AewLTigWG4xSOukaG"    # –ú—É–∂—Å–∫–æ–π
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### API –∫–ª—é—á–∏

- –•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –∫–ª—é—á–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –í–∞–ª–∏–¥–∞—Ü–∏—è

- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏

- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–æ–≤
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å ASR
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∞–≥–µ–Ω—Ç–∞
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –∑–≤–æ–Ω–∫–æ–≤

### –ê–ª–µ—Ä—Ç—ã

- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –í—ã—Å–æ–∫–∞—è –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ù–µ—É–¥–∞—á–Ω—ã–µ –∑–≤–æ–Ω–∫–∏

## üöÄ –†–∞–∑–≤–∏—Ç–∏–µ

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–æ–≤
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

2. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
   - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–≤–æ–Ω–∫–æ–≤
   - –ú–∞—Å—Å–æ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏

4. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤
   - –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ElevenLabs API Docs](https://docs.elevenlabs.io/)
- [Voximplant API Docs](https://voximplant.com/docs/references/httpapi)

### –ö–æ–Ω—Ç–∞–∫—Ç—ã

- ElevenLabs: [support@elevenlabs.io](mailto:support@elevenlabs.io)
- Voximplant: [support@voximplant.com](mailto:support@voximplant.com)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ElevenLabs AI Agent —Å Voximplant.

---

**üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–≤–µ—Ä—à–∞—Ç—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—É—á—à–µ–≥–æ AI –æ—Ç ElevenLabs –∏ —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ –æ—Ç Voximplant.
