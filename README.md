# ü§ñ AI Cold Caller - ElevenLabs WebSocket + Voximplant Integration

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–≤–æ–Ω–∫–æ–≤ —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è ElevenLabs Conversational AI Agent –∏ Voximplant –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **ElevenLabs WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–∏–∞–ª–æ–≥–∞ —Å AI –∞–≥–µ–Ω—Ç–æ–º
- **Voximplant —Ç–µ–ª–µ—Ñ–æ–Ω–∏—è** - –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏ –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–º–µ—Ä–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ª–æ–≥** - AI –∞–≥–µ–Ω—Ç –≤–µ–¥–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–≤–æ–Ω–∫–æ–≤** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã:
- **`voximplant_elevenlabs_integration.py`** - –≥–ª–∞–≤–Ω—ã–π Flask —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000)
- **`main.py`** - FastAPI —Å–µ—Ä–≤–µ—Ä —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **`run.py`** - —Å–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **`config_elevenlabs.py`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ElevenLabs Agent
- **`config.py`** - –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ API –∫–ª—é—á–∏

### üìû –°—Ü–µ–Ω–∞—Ä–∏–∏ Voximplant:
- **`voximplant_scenario_elevenlabs_agent.js`** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π
- **`voximplant_scenario_elevenlabs_robust.js`** - —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **`voximplant_scenario_elevenlabs_stream.js`** - –ø–æ—Ç–æ–∫–æ–≤–∞—è –≤–µ—Ä—Å–∏—è

### üß† AI –∏ —Å–µ—Ä–≤–∏—Å—ã:
- **`elevenlabs_agent_service.py`** - —Å–µ—Ä–≤–∏—Å ElevenLabs Agent
- **`elevenlabs_voximplant_service.py`** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **`gpt_service.py`** - GPT –¥–∏–∞–ª–æ–≥–∏
- **`voice_service.py`** - —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏
- **`call_manager.py`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config_elevenlabs.py`:
```python
ELEVENLABS_AGENT_API_KEY = "–≤–∞—à_–∫–ª—é—á_elevenlabs"
ELEVENLABS_AGENT_ID = "–≤–∞—à_agent_id"
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
python voximplant_elevenlabs_integration.py
```

### 4. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```
http://127.0.0.1:8000/form
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ElevenLabs Agent:
- **Agent ID:** `agent_8701k4554cs1e69arzeae6vva5qz`
- **API Key:** –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ `config_elevenlabs.py`
- **WebSocket:** `wss://api.elevenlabs.io/v1/convai/conversation`

### Voximplant:
- **Account ID:** 9768007
- **–°—Ü–µ–Ω–∞—Ä–∏–π:** `elevenlabs_official_module`
- **Rule Name:** `ai cold caller`

## üìä API Endpoints

### Flask —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000):
- **`GET /form`** - —Ñ–æ—Ä–º–∞ –∑–∞–ø—É—Å–∫–∞ –∑–≤–æ–Ω–∫–æ–≤
- **`POST /start-call`** - API –∑–∞–ø—É—Å–∫–∞ –∑–≤–æ–Ω–∫–∞
- **`POST /voximplant-webhook/<call_id>`** - webhook –æ—Ç Voximplant
- **`GET /test-elevenlabs-connection`** - —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **`GET /active-calls`** - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://127.0.0.1:8000/form`
2. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–≤–æ–Ω–æ–∫"

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- **`test_elevenlabs_api.js`** - —Ç–µ—Å—Ç—ã ElevenLabs API
- **`test_interface.html`** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
üìû Voximplant (–∑–≤–æ–Ω–∫–∏)
    ‚Üì (–∞—É–¥–∏–æ)
üîå ElevenLabs WebSocket
    ‚Üì (AI –æ–±—Ä–∞–±–æ—Ç–∫–∞)
üé≠ ElevenLabs Agent (–¥–∏–∞–ª–æ–≥)
    ‚Üì (–∞—É–¥–∏–æ –æ—Ç–≤–µ—Ç)
üîå ElevenLabs WebSocket  
    ‚Üì (–∞—É–¥–∏–æ)
üìû Voximplant (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ)
```

## üìù –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ —Å–±–æ—è—Ö
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –Ω–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ production
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- `.gitignore` –∏—Å–∫–ª—é—á–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- Webhook'–∏ –∑–∞—â–∏—â–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–æ–π call_id

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License